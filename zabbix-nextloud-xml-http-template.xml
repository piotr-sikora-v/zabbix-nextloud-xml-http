<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.2</version>
    <date>2021-02-02T15:25:35Z</date>
    <groups>
        <group>
            <name>Templates/Applications</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>NextCloud-XML</template>
            <name>NextCloud-XML</name>
            <groups>
                <group>
                    <name>Templates/Applications</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>NextCloud</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>GetXML</name>
                    <type>HTTP_AGENT</type>
                    <key>nextcloud.xlm</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <url>https://{$NCUSER}:{$NCPW}@{$NCHOST}/ocs/v2.php/apps/serverinfo/api/v1/info</url>
                </item>
                <item>
                    <name>Active users 1hour</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.active.users.1hour</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/activeUsers/last1hour)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Active users 5min</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.active.users.5min</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/activeUsers/last5minutes)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Active users 24hour</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.active.users.24hour</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/activeUsers/last24hours)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Installed Apps</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.apps.num_installed</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/system/apps/num_installed)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Apps to updates</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.apps.to_update</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>count(/ocs/data/nextcloud/system/apps/app_updates/*)</parameter>
                            </parameters>
                            <error_handler>CUSTOM_VALUE</error_handler>
                            <error_handler_params>0</error_handler_params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;0</expression>
                            <name>Apps to update</name>
                            <priority>INFO</priority>
                            <description>There is some apps to update on instance</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>CPU Load 1 min</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.cpuload.1min</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/system/cpuload/element[1])</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>CPU Load 5 min</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.cpuload.5min</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/system/cpuload/element[2])</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>CPU Load 15 min</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.cpuload.15min</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/system/cpuload/element[3])</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Database size</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.database.size</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/server/database/size)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares fed received</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.fed.received</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_fed_shares_received)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares fed sent</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.fed.sent</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_fed_shares_sent)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares groups</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.groups</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares_groups)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares link</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.link</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares_link)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares link no passwd</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.link_no_passwd</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares_link_no_password)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares mail</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.mail</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares_mail)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares room</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.room</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares_room)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Shares user</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.shares.user</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/shares/num_shares_user)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Storage Files</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.storage.files</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/storage/num_files)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Storages</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.storage.storages</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/storage/num_storages)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Storages home</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.storage.storages.home</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/storage/num_storages_home)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Storages local</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.storage.storages.local</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/storage/num_storages_local)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Storages other</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.storage.storages.other</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/storage/num_storages_other)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
                <item>
                    <name>Users</name>
                    <type>DEPENDENT</type>
                    <key>nextcloud.xlm.storage.users</key>
                    <delay>0</delay>
                    <applications>
                        <application>
                            <name>NextCloud</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>XMLPATH</type>
                            <parameters>
                                <parameter>number(/ocs/data/nextcloud/storage/num_users)</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>nextcloud.xlm</key>
                    </master_item>
                </item>
            </items>
        </template>
    </templates>
</zabbix_export>
